# 🎮 Telegram Strategy-Action War Game Bot

فرمانده: سلام سرباز! این ربات یک بازی **استراتژی-اکشن گروهی** در تلگرام است که به شما اجازه می‌دهد کشور خود را بسازید، منابع مدیریت کنید، دکل بسازید، با سایر بازیکنان رقابت کنید و چالش‌ها و ماموریت‌های متنوع را انجام دهید.  

> ⚠️ توجه: ربات نقش **فرمانده** را دارد و کاربران نقش سرباز را بازی می‌کنند.

---

## ✨ قابلیت‌های ربات

| قابلیت | توضیحات | وضعیت |
|---------|---------|--------|
| 🖥️ پنل شیشه‌ای فرمانده | پنل اختصاصی در پیوی برای مشاهده موجودی و مدیریت | ✅ آماده |
| 💰 موجودی و منابع | پول، نفت، دکل‌ها، سطح و تجربه نمایش داده می‌شود | ✅ آماده |
| 🏗️ دکل‌ها و آشیانه‌ها | ساخت و مدیریت دکل‌ها و آشیانه‌های جنگنده‌ها | ⚙️ در حال توسعه |
| 🌍 گروه سراری | مدیریت گروه‌ها و ارتباط با سایر بازیکنان | ✅ آماده |
| ⏱️ چالش‌های رندوم | چالش‌ها با تایمر آنلاین ۹۰ ثانیه‌ای | ✅ آماده |
| 🎯 ماموریت‌ها | ماموریت‌های گروهی که هر ۸ ساعت رفرش می‌شوند | ✅ آماده |
| 🏆 اهدا خودکار جوایز | جوایز بر اساس پاسخ صحیح و انجام ماموریت‌ها اهدا می‌شود | ✅ آماده |
| 💾 ذخیره دائم اطلاعات | تمام اطلاعات کاربران و گروه‌ها در PostgreSQL ذخیره می‌شود | ✅ آماده |
| 👮‍♂️ لحن جدی فرمانده | تمام پیام‌ها با لحن جدی و فرمانده‌گونه ارسال می‌شود | ✅ آماده |
| ⚔️ چندگروهی | مدیریت همزمان چندین گروه بدون تداخل | ✅ آماده |

---

## 🎮 آموزش بازی کردن

1. **استارت ربات**
   ```
   /start
   ```
   فرمانده بررسی می‌کند که آیا ربات به گروه اضافه شده است یا نه و دکمه‌ای برای اعلام اضافه شدن ارائه می‌دهد.

2. **انتخاب گروه**
   - پس از اضافه شدن ربات به گروه، لیست گروه‌های مشترک با دکمه شیشه‌ای نمایش داده می‌شود.
   - کاربر انتخاب می‌کند که پروفایل او در کدام گروه فعال باشد.

3. **پنل فرمانده**
   - پنل شامل بخش‌های زیر است:
     - 📊 موجودی: پول، نفت، دکل‌ها، سطح و تجربه  
     - 🛒 فروشگاه: خرید جنگنده، موشک و تجهیزات  
     - 💱 تبادل: تبدیل نفت به پول و بالعکس  
     - 🏗️ دکل‌ها: مدیریت و مشاهده سطح دکل‌ها  
     - 🛩️ آشیانه‌ها: مدیریت و مشاهده جنگنده‌ها  
     - 🌍 گروه سراری: وضعیت گروه و بازیکنان  

4. **چالش‌ها و ماموریت‌ها**
   - چالش‌ها در گروه به صورت رندوم با تایمر ۹۰ ثانیه‌ای ظاهر می‌شوند.  
   - پاسخ‌ها باید **با ریپلای به پیام چالش** ارسال شوند.  
   - ماموریت‌ها هر ۸ ساعت تغییر می‌کنند و بر اساس موفقیت کاربران جوایز اهدا می‌شود.

5. **پیشرفت سطح**
   - هر بازیکن تجربه کسب می‌کند و سطح او نمایش داده می‌شود:  
     ```
     سطح تجربه: 1
     [░░░░░░░░░░] (3 / 75 تجربه)
     ```

---

## 🛠️ راه‌اندازی ربات روی Railway

1. **کلون کردن پروژه**
   ```bash
   git clone <YOUR_REPO_URL>
   cd <YOUR_REPO_NAME>
   ```

2. **تنظیم متغیرهای محیطی**
   - `BOT_TOKEN` → توکن ربات تلگرام  
   - `DATABASE_URL` → URL دیتابیس PostgreSQL روی Railway  

3. **نصب وابستگی‌ها**
   ```bash
   pip install -r requirements.txt
   ```

4. **اجرای ربات**
   ```bash
   python telegram_war_game_bot.py
   ```

> ⚠️ نکته: مطمئن شوید که هیچ نمونه‌ی دیگری از ربات در حال اجرا نیست (برای جلوگیری از `TelegramConflictError`)  

---

## 🔧 نکات اضافی

- دیتابیس PostgreSQL ذخیره دائمی اطلاعات کاربران، گروه‌ها، دکل‌ها، ماموریت‌ها و چالش‌ها را تضمین می‌کند.  
- برای زیبایی و نظم بیشتر، تمام دکمه‌ها **شیشه‌ای** طراحی شده‌اند.  
- ربات می‌تواند به صورت همزمان در چند گروه فعالیت کند و وضعیت هر گروه جداگانه مدیریت می‌شود.  

---

فرمانده: آماده باش، سرباز! 🛡️  
حالا می‌توانی ربات را به گروهت اضافه کنی و فرمانده بازی را دنبال کنی.
